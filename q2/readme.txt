like question one, but with three threads, one for main func another for 
functions which linked two other threads
thread management: os make it some delay but it looks like to work in one time
